# =============================================================================
# Lost & Found Tracker - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# For Docker deployment, only set the variables you want to override
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
# For Docker Compose (default - no need to change):
DATABASE_URL=postgresql://lostfound:changeme@db:5432/lostfound

# For local development with local PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/lostfound

# For external PostgreSQL (e.g., Supabase, Railway, etc.):
# DATABASE_URL=postgresql://user:password@host:5432/database?sslmode=require

# PostgreSQL password (used by docker-compose for the db service)
POSTGRES_PASSWORD=changeme

# -----------------------------------------------------------------------------
# AUTHENTICATION
# -----------------------------------------------------------------------------
# Your app's public URL (important for OAuth callbacks)
NEXTAUTH_URL=http://localhost:3000

# Session encryption secret - CHANGE THIS IN PRODUCTION!
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32

# Admin seed credentials (optional)
ADMIN_EMAIL=admin@lostfound.local
ADMIN_PASSWORD=admin123
ADMIN_NAME=Admin

# -----------------------------------------------------------------------------
# FILE STORAGE
# -----------------------------------------------------------------------------
# Storage type: "local" for local filesystem, "s3" for AWS S3
# Local storage saves files to ./uploads directory (mounted as Docker volume)
STORAGE_TYPE=local

# S3 Configuration (only needed if STORAGE_TYPE=s3)
AWS_BUCKET_NAME=
AWS_FOLDER_PREFIX=
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# S3-compatible services (MinIO, Backblaze B2, etc.):
# AWS_ENDPOINT=http://minio:9000
# AWS_FORCE_PATH_STYLE=true

# -----------------------------------------------------------------------------
# SPAM PROTECTION (Optional)
# -----------------------------------------------------------------------------
# Cloudflare Turnstile - protects public message form from spam
# Get keys from: https://dash.cloudflare.com/turnstile
# If not configured, captcha will be disabled
NEXT_PUBLIC_TURNSTILE_SITE_KEY=
TURNSTILE_SECRET_KEY=

# -----------------------------------------------------------------------------
# PUBLIC PORTAL SEPARATION (Optional)
# -----------------------------------------------------------------------------
# If you want QR codes to point to a different domain than your admin dashboard,
# set this to the public-facing URL. This enables deploying the public portal
# separately from the admin dashboard for better isolation.
#
# Example: Admin at https://admin.example.com, Public at https://found.example.com
# PUBLIC_PORTAL_URL=https://found.example.com
#
# If not set, QR codes will use the same domain as the admin dashboard.
PUBLIC_PORTAL_URL=

# -----------------------------------------------------------------------------
# NOTIFICATIONS (Optional)
# -----------------------------------------------------------------------------
# Default Apprise notification URL for all devices
# Individual devices can override this in the dashboard
# See: https://github.com/caronc/apprise/wiki
# Examples:
#   - ntfy: ntfy://your-topic
#   - Telegram: tgram://bottoken/ChatID
#   - Discord: discord://webhook_id/webhook_token
#   - Gotify: gotify://hostname/token
#   - Pushover: pover://user@token
DEFAULT_APPRISE_URL=
